!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.klaro=t():e.klaro=t()}(self,(()=>(()=>{var e={362:(e,t,n)=>{"use strict";var o=n(441);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},688:(e,t,n)=>{e.exports=n(362)()},441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{addEventListener:()=>Kt,defaultConfig:()=>Lt,defaultTranslations:()=>Wt,getConfigTranslations:()=>Jt,getElement:()=>zt,getElementID:()=>Vt,getManager:()=>sn,language:()=>it,render:()=>Zt,renderContextualConsentNotices:()=>Xt,resetManagers:()=>rn,setup:()=>tn,show:()=>nn,updateConfig:()=>vt,validateConfig:()=>en,version:()=>an});var e,t,i,r,s,a,c,l,u={},p=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=Array.isArray;function _(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function m(t,n,o){var i,r,s,a={};for(s in n)"key"==s?i=n[s]:"ref"==s?r=n[s]:a[s]=n[s];if(arguments.length>2&&(a.children=arguments.length>3?e.call(arguments,2):o),"function"==typeof t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===a[s]&&(a[s]=t.defaultProps[s]);return v(t,a,i,r,null)}function v(e,n,o,r,s){var a={type:e,props:n,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++i:s,__i:-1,__u:0};return null==s&&null!=t.vnode&&t.vnode(a),a}function g(e){return e.children}function y(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function k(e,n,o){var i,r=e.__v,s=r.__e,a=e.__P;if(a)return(i=_({},r)).__v=r.__v+1,t.vnode&&t.vnode(i),R(a,i,r,e.__n,void 0!==a.ownerSVGElement,32&r.__u?[s]:null,n,null==s?b(r):s,!!(32&r.__u),o),i.__v=r.__v,i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=s&&E(i),i}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function w(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!C.__r++||s!==t.debounceRendering)&&((s=t.debounceRendering)||a)(C)}function C(){var e,n,o,i=[],s=[];for(r.sort(c);e=r.shift();)e.__d&&(o=r.length,n=k(e,i,s)||n,0===o||r.length>o?(M(i,n,s),s.length=i.length=0,n=void 0,r.sort(c)):n&&t.__c&&t.__c(n,p));n&&M(i,n,s),C.__r=0}function x(e,t,n,o,i,r,s,a,c,l,d){var f,_,h,m,v,g=o&&o.__k||p,y=t.length;for(n.__d=c,O(n,t,g),c=n.__d,f=0;f<y;f++)null!=(h=n.__k[f])&&"boolean"!=typeof h&&"function"!=typeof h&&(_=-1===h.__i?u:g[h.__i]||u,h.__i=f,R(e,h,_,i,r,s,a,c,l,d),m=h.__e,h.ref&&_.ref!=h.ref&&(_.ref&&U(_.ref,null,h),d.push(h.ref,h.__c||m,h)),null==v&&null!=m&&(v=m),65536&h.__u||_.__k===h.__k?c=N(h,c,e):"function"==typeof h.type&&void 0!==h.__d?c=h.__d:m&&(c=m.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=c,n.__e=v}function O(e,t,n){var o,i,r,s,a,c=t.length,l=n.length,u=l,p=0;for(e.__k=[],o=0;o<c;o++)s=o+p,null!=(i=e.__k[o]=null==(i=t[o])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?v(null,i,null,null,null):f(i)?v(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?v(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=P(i,n,s,u),i.__i=a,r=null,-1!==a&&(u--,(r=n[a])&&(r.__u|=131072)),null==r||null===r.__v?(-1==a&&p--,"function"!=typeof i.type&&(i.__u|=65536)):a!==s&&(a===s+1?p++:a>s?u>c-s?p+=a-s:p--:a<s?a==s-1&&(p=a-s):p=0,a!==o+p&&(i.__u|=65536))):(r=n[s])&&null==r.key&&r.__e&&0==(131072&r.__u)&&(r.__e==e.__d&&(e.__d=b(r)),H(r,r,!1),n[s]=null,u--);if(u)for(o=0;o<l;o++)null!=(r=n[o])&&0==(131072&r.__u)&&(r.__e==e.__d&&(e.__d=b(r)),H(r,r))}function N(e,t,n){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=N(o[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function S(e,t){return t=t||[],null==e||"boolean"==typeof e||(f(e)?e.some((function(e){S(e,t)})):t.push(e)),t}function P(e,t,n,o){var i=e.key,r=e.type,s=n-1,a=n+1,c=t[n];if(null===c||c&&i==c.key&&r===c.type&&0==(131072&c.__u))return n;if(o>(null!=c&&0==(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&0==(131072&c.__u)&&i==c.key&&r===c.type)return s;s--}if(a<t.length){if((c=t[a])&&0==(131072&c.__u)&&i==c.key&&r===c.type)return a;a++}}return-1}function j(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||d.test(t)?n:n+"px"}function A(e,t,n,o,i){var r;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||j(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||j(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.u=o.u:(n.u=Date.now(),e.addEventListener(t,r?T:D,r)):e.removeEventListener(t,r?T:D,r);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function D(e){if(this.l){var n=this.l[e.type+!1];if(e.t){if(e.t<=n.u)return}else e.t=Date.now();return n(t.event?t.event(e):e)}}function T(e){if(this.l)return this.l[e.type+!0](t.event?t.event(e):e)}function R(e,n,o,i,r,s,a,c,l,u){var p,d,h,m,v,b,k,E,w,C,O,N,S,P,j,A=n.type;if(void 0!==n.constructor)return null;128&o.__u&&(l=!!(32&o.__u),s=[c=n.__e=o.__e]),(p=t.__b)&&p(n);e:if("function"==typeof A)try{if(E=n.props,w=(p=A.contextType)&&i[p.__c],C=p?w?w.props.value:p.__:i,o.__c?k=(d=n.__c=o.__c).__=d.__E:("prototype"in A&&A.prototype.render?n.__c=d=new A(E,C):(n.__c=d=new y(E,C),d.constructor=A,d.render=I),w&&w.sub(d),d.props=E,d.state||(d.state={}),d.context=C,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=A.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=_({},d.__s)),_(d.__s,A.getDerivedStateFromProps(E,d.__s))),m=d.props,v=d.state,d.__v=n,h)null==A.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==A.getDerivedStateFromProps&&E!==m&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(E,C),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(E,d.__s,C)||n.__v===o.__v)){for(n.__v!==o.__v&&(d.props=E,d.state=d.__s,d.__d=!1),n.__e=o.__e,n.__k=o.__k,n.__k.forEach((function(e){e&&(e.__=n)})),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(E,d.__s,C),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(m,v,b)}))}if(d.context=C,d.props=E,d.__P=e,d.__e=!1,N=t.__r,S=0,"prototype"in A&&A.prototype.render){for(d.state=d.__s,d.__d=!1,N&&N(n),p=d.render(d.props,d.state,d.context),P=0;P<d._sb.length;P++)d.__h.push(d._sb[P]);d._sb=[]}else do{d.__d=!1,N&&N(n),p=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(i=_(_({},i),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(b=d.getSnapshotBeforeUpdate(m,v)),x(e,f(j=null!=p&&p.type===g&&null==p.key?p.props.children:p)?j:[j],n,o,i,r,s,a,c,l,u),d.base=n.__e,n.__u&=-161,d.__h.length&&a.push(d),k&&(d.__E=d.__=null)}catch(e){n.__v=null,l||null!=s?(n.__e=c,n.__u|=l?160:32,s[s.indexOf(c)]=null):(n.__e=o.__e,n.__k=o.__k),t.__e(e,n,o)}else null==s&&n.__v===o.__v?(n.__k=o.__k,n.__e=o.__e):n.__e=q(o.__e,n,o,i,r,s,a,l,u);(p=t.diffed)&&p(n)}function M(e,n,o){for(var i=0;i<o.length;i++)U(o[i],o[++i],o[++i]);t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function q(t,n,o,i,r,s,a,c,l){var p,d,_,m,v,g,y,k=o.props,E=n.props,w=n.type;if("svg"===w&&(r=!0),null!=s)for(p=0;p<s.length;p++)if((v=s[p])&&"setAttribute"in v==!!w&&(w?v.localName===w:3===v.nodeType)){t=v,s[p]=null;break}if(null==t){if(null===w)return document.createTextNode(E);t=r?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,E.is&&E),s=null,c=!1}if(null===w)k===E||c&&t.data===E||(t.data=E);else{if(s=s&&e.call(t.childNodes),k=o.props||u,!c&&null!=s)for(k={},p=0;p<t.attributes.length;p++)k[(v=t.attributes[p]).name]=v.value;for(p in k)v=k[p],"children"==p||("dangerouslySetInnerHTML"==p?_=v:"key"===p||p in E||A(t,p,null,v,r));for(p in E)v=E[p],"children"==p?m=v:"dangerouslySetInnerHTML"==p?d=v:"value"==p?g=v:"checked"==p?y=v:"key"===p||c&&"function"!=typeof v||k[p]===v||A(t,p,v,k[p],r);if(d)c||_&&(d.__html===_.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),n.__k=[];else if(_&&(t.innerHTML=""),x(t,f(m)?m:[m],n,o,i,r&&"foreignObject"!==w,s,a,s?s[0]:o.__k&&b(o,0),c,l),null!=s)for(p=s.length;p--;)null!=s[p]&&h(s[p]);c||(p="value",void 0!==g&&(g!==t[p]||"progress"===w&&!g||"option"===w&&g!==k[p])&&A(t,p,g,k[p],!1),p="checked",void 0!==y&&y!==t[p]&&A(t,p,y,k[p],!1))}return t}function U(e,n,o){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,o)}}function H(e,n,o){var i,r;if(t.unmount&&t.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||U(i,null,n)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){t.__e(e,n)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&H(i[r],n,o||"function"!=typeof e.type);o||null==e.__e||h(e.__e),e.__=e.__e=e.__d=void 0}function I(e,t,n){return this.constructor(e,n)}function $(n,o,i){var r,s,a,c;t.__&&t.__(n,o),s=(r="function"==typeof i)?null:i&&i.__k||o.__k,a=[],c=[],R(o,n=(!r&&i||o).__k=m(g,null,[n]),s||u,u,void 0!==o.ownerSVGElement,!r&&i?[i]:s?null:o.firstChild?e.call(o.childNodes):null,a,!r&&i?i:s?s.__e:o.firstChild,r,c),n.__d=void 0,M(a,n,c)}function L(e,t){$(e,t,L)}function W(t,n,o){var i,r,s,a,c=_({},t.props);for(s in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),n)"key"==s?i=n[s]:"ref"==s?r=n[s]:c[s]=void 0===n[s]&&void 0!==a?a[s]:n[s];return arguments.length>2&&(c.children=arguments.length>3?e.call(arguments,2):o),v(t.type,c,i||t.key,r||t.ref,null)}e=p.slice,t={__e:function(e,t,n,o){for(var i,r,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,o||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},i=0,y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=_({},this.state),"function"==typeof e&&(e=e(_({},n),this.props)),e&&_(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),w(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),w(this))},y.prototype.render=g,r=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},C.__r=0,l=0;var F,B,V,z,K=0,G=[],J=[],Y=t,Z=Y.__b,X=Y.__r,Q=Y.diffed,ee=Y.__c,te=Y.unmount,ne=Y.__;function oe(e,t){Y.__h&&Y.__h(B,e,K||t),K=0;var n=B.__H||(B.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:J}),n.__[e]}function ie(e){return K=1,re(he,e)}function re(e,t,n){var o=oe(F++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):he(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=B,!B.u)){var i=function(e,t,n){if(!o.__c.__H)return!0;var i=o.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var s=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),!(!s&&o.__c.props===e)&&(!r||r.call(this,e,t,n))};B.u=!0;var r=B.shouldComponentUpdate,s=B.componentWillUpdate;B.componentWillUpdate=function(e,t,n){if(this.__e){var o=r;r=void 0,i(e,t,n),r=o}s&&s.call(this,e,t,n)},B.shouldComponentUpdate=i}return o.__N||o.__}function se(e,t){var n=oe(F++,3);!Y.__s&&_e(n.__H,t)&&(n.__=e,n.i=t,B.__H.__h.push(n))}function ae(e,t){var n=oe(F++,4);!Y.__s&&_e(n.__H,t)&&(n.__=e,n.i=t,B.__h.push(n))}function ce(e,t){var n=oe(F++,7);return _e(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function le(){for(var e;e=G.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(de),e.__H.__h.forEach(fe),e.__H.__h=[]}catch(t){e.__H.__h=[],Y.__e(t,e.__v)}}Y.__b=function(e){B=null,Z&&Z(e)},Y.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ne&&ne(e,t)},Y.__r=function(e){X&&X(e),F=0;var t=(B=e.__c).__H;t&&(V===B?(t.__h=[],B.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=J,e.__N=e.i=void 0}))):(t.__h.forEach(de),t.__h.forEach(fe),t.__h=[],F=0)),V=B},Y.diffed=function(e){Q&&Q(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==G.push(t)&&z===Y.requestAnimationFrame||((z=Y.requestAnimationFrame)||pe)(le)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==J&&(e.__=e.__V),e.i=void 0,e.__V=J}))),V=B=null},Y.__c=function(e,t){t.some((function(e){try{e.__h.forEach(de),e.__h=e.__h.filter((function(e){return!e.__||fe(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Y.__e(n,e.__v)}})),ee&&ee(e,t)},Y.unmount=function(e){te&&te(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{de(e)}catch(e){t=e}})),n.__H=void 0,t&&Y.__e(t,n.__v))};var ue="function"==typeof requestAnimationFrame;function pe(e){var t,n=function(){clearTimeout(o),ue&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);ue&&(t=requestAnimationFrame(n))}function de(e){var t=B,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),B=t}function fe(e){var t=B;e.__c=e.__(),B=t}function _e(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function he(e,t){return"function"==typeof t?t(e):t}function me(e,t){for(var n in t)e[n]=t[n];return e}function ve(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function ge(e,t){this.props=e,this.context=t}(ge.prototype=new y).isPureReactComponent=!0,ge.prototype.shouldComponentUpdate=function(e,t){return ve(this.props,e)||ve(this.state,t)};var ye=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ye&&ye(e)};var be="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,ke=function(e,t){return null==e?null:S(S(e).map(t))},Ee={map:ke,forEach:ke,count:function(e){return e?S(e).length:0},only:function(e){var t=S(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:S},we=t.__e;t.__e=function(e,t,n,o){if(e.then)for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);we(e,t,n,o)};var Ce=t.unmount;function xe(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=me({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return xe(e,t,n)}))),e}function Oe(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Oe(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Ne(){this.__u=0,this.t=null,this.__b=null}function Se(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Pe(){this.u=null,this.o=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Ce&&Ce(e)},(Ne.prototype=new y).__c=function(e,t){var n=t.__c,o=this;null==o.t&&(o.t=[]),o.t.push(n);var i=Se(o.__v),r=!1,s=function(){r||(r=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(! --o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=Oe(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__a:o.__b=null});t=o.t.pop();)t.forceUpdate()}};o.__u++||32&t.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(s,s)},Ne.prototype.componentWillUnmount=function(){this.t=[]},Ne.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=xe(this.__b,n,o.__O=o.__P)}this.__b=null}var i=t.__a&&m(g,null,e.fallback);return i&&(i.__u&=-33),[m(g,null,t.__a?null:e.children),i]};var je=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Ae(e){return this.getChildContext=function(){return e.context},e.children}function De(e){var t=this,n=e.i;t.componentWillUnmount=function(){$(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),$(m(Ae,{context:t.context},e.__v),t.l)}(Pe.prototype=new y).__a=function(e){var t=this,n=Se(t.__v),o=t.o.get(e);return o[0]++,function(i){var r=function(){t.props.revealOrder?(o.push(i),je(t,e,o)):i()};n?n(r):r()}},Pe.prototype.render=function(e){this.u=null,this.o=new Map;var t=S(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Pe.prototype.componentDidUpdate=Pe.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){je(e,n,t)}))};var Te="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Re=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Me=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,qe=/[A-Z0-9]/g,Ue="undefined"!=typeof document,He=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function Ie(e,t,n){return null==t.__k&&(t.textContent=""),$(e,t),"function"==typeof n&&n(),e?e.__c:null}y.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(y.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var $e=t.event;function Le(){}function We(){return this.cancelBubble}function Fe(){return this.defaultPrevented}t.event=function(e){return $e&&(e=$e(e)),e.persist=Le,e.isPropagationStopped=We,e.isDefaultPrevented=Fe,e.nativeEvent=e};var Be,Ve={enumerable:!1,configurable:!0,get:function(){return this.class}},ze=t.vnode;t.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,o={};for(var i in t){var r=t[i];if(!("value"===i&&"defaultValue"in t&&null==r||Ue&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var s=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===r?r="":"translate"===s&&"no"===r?r=!1:"ondoubleclick"===s?i="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||He(t.type)?"onfocus"===s?i="onfocusin":"onblur"===s?i="onfocusout":Me.test(i)?i=s:-1===n.indexOf("-")&&Re.test(i)?i=i.replace(qe,"-$&").toLowerCase():null===r&&(r=void 0):s=i="oninput","oninput"===s&&o[i=s]&&(i="oninputCapture"),o[i]=r}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=S(t.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=S(t.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),t.class&&!t.className?(o.class=t.class,Object.defineProperty(o,"className",Ve)):(t.className&&!t.class||t.class&&t.className)&&(o.class=o.className=t.className),e.props=o}(e),e.$$typeof=Te,ze&&ze(e)};var Ke=t.__r;t.__r=function(e){Ke&&Ke(e),Be=e.__c};var Ge=t.diffed;t.diffed=function(e){Ge&&Ge(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),Be=null};var Je={ReactCurrentDispatcher:{current:{readContext:function(e){return Be.__n[e.__c].props.value}}}};function Ye(e){return!!e&&e.$$typeof===Te}function Ze(e){e()}function Xe(e){var t,n,o=e.v,i=e.__;try{var r=o();return!((t=i)===(n=r)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}var Qe={useState:ie,useId:function(){var e=oe(F++,11);if(!e.__){for(var t=B.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},useReducer:re,useEffect:se,useLayoutEffect:ae,useInsertionEffect:ae,useTransition:function(){return[!1,Ze]},useDeferredValue:function(e){return e},useSyncExternalStore:function(e,t){var n=t(),o=ie({h:{__:n,v:t}}),i=o[0].h,r=o[1];return ae((function(){i.__=n,i.v=t,Xe(i)&&r({h:i})}),[e,n,t]),se((function(){return Xe(i)&&r({h:i}),e((function(){Xe(i)&&r({h:i})}))}),[e]),n},startTransition:Ze,useRef:function(e){return K=5,ce((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){K=6,ae((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))},useMemo:ce,useCallback:function(e,t){return K=8,ce((function(){return e}),t)},useContext:function(e){var t=B.context[e.__c],n=oe(F++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(B)),t.props.value):e.__},useDebugValue:function(e,t){Y.useDebugValue&&Y.useDebugValue(t?t(e):e)},version:"17.0.2",Children:Ee,render:Ie,hydrate:function(e,t,n){return L(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&($(null,e),!0)},createPortal:function(e,t){var n=m(De,{__v:e,i:t});return n.containerInfo=t,n},createElement:m,createContext:function(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,o;return this.getChildContext||(n=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,w(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(e){return m.bind(null,e)},cloneElement:function(e){return Ye(e)?W.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:g,isValidElement:Ye,isElement:Ye,isFragment:function(e){return Ye(e)&&e.type===g},findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:y,PureComponent:ge,memo:function(e,t){function n(e){var n=this.props.ref,o=n==e.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!o:ve(this.props,e)}function o(t){return this.shouldComponentUpdate=n,m(e,t)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o},forwardRef:function(e){function t(t){var n=me({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=be,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:g,Suspense:Ne,SuspenseList:Pe,lazy:function(e){var t,n,o;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){o=e})),o)throw o;if(!n)throw t;return m(n,i)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Je},et=n(688);const tt=e=>{let{t}=e;return Qe.createElement("svg",{role:"img","aria-label":t(["close"]),width:"12",height:"12",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Qe.createElement("title",null,t(["close"])),Qe.createElement("line",{x1:"1",y1:"11",x2:"11",y2:"1",strokeWidth:"1"}),Qe.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11",strokeWidth:"1"}))};function nt(e){return e.split("-").map((e=>e.slice(0,1).toUpperCase()+e.slice(1))).join(" ")}tt.propTypes={t:n.n(et)().func};const ot=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const i=typeof n[0];let r;r=0===n.length?{}:"string"===i||"number"===i?Array.prototype.slice.call(n):n[0];const s=[];let a=e.toString();for(;a.length>0;){const e=a.match(/\{(?!\{)([\w\d]+)\}(?!\})/);if(null!==e){const t=a.substr(0,e.index);a=a.substr(e.index+e[0].length);const n=parseInt(e[1]);s.push(t),n!=n?s.push(r[e[1]]):s.push(r[n])}else s.push(a),a=""}return s};function it(e){if(void 0!==e&&void 0!==e.lang&&"zz"!==e.lang)return e.lang;const t=(("string"==typeof window.language?window.language:null)||document.documentElement.lang||(void 0!==e&&void 0!==e.languages&&void 0!==e.languages[0]?e.languages[0]:"en")).toLowerCase(),n=new RegExp("^([\\w]+)-([\\w]+)$").exec(t);return null===n?t:n[1]}function rt(e,t,n){let o=t;Array.isArray(o)||(o=[o]);let i=e;for(let e=0;e<o.length;e++){if(void 0===i)return n;if(void 0!==o[e]&&o[e].endsWith("?")){const t=o[e].slice(0,o[e].length-1);let n;n=i instanceof Map?i.get(t):i[t],void 0!==n&&"string"==typeof n&&(i=n)}else i=i instanceof Map?i.get(o[e]):i[o[e]]}return void 0===i||"string"!=typeof i?n:""!==i?i:void 0}function st(e,t,n,o){let i=o,r=!1;"!"===i[0]&&(i=i.slice(1),r=!0),Array.isArray(i)||(i=[i]);let s=rt(e,[t,...i]);if(void 0===s&&void 0!==n&&(s=rt(e,[n,...i])),void 0===s){if(r)return;return[`[missing translation: ${t}/${i.join("/")}]`]}for(var a=arguments.length,c=new Array(a>4?a-4:0),l=4;l<a;l++)c[l-4]=arguments[l];return c.length>0?ot(s,...c):s}const at=e=>{let{text:t,config:n}=e;if(t instanceof Array||(t=[t]),!0===n.htmlTexts){let e=!1;"<"===t[0][0]&&(e=!0);const n=t.map(((e,t)=>"string"==typeof e?Qe.createElement("span",{key:t,dangerouslySetInnerHTML:{__html:e}}):e));return e?Qe.createElement(Qe.Fragment,null,n):Qe.createElement("span",null,n)}return Qe.createElement("span",null,t)};function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ct.apply(this,arguments)}class lt extends Qe.Component{render(){const{checked:e,onlyRequiredEnabled:t,onToggle:n,name:o,lang:i,config:r,translations:s,title:a,description:c,visible:l,t:u}=this.props,p=this.props.required||!1,d=this.props.optOut||!1,f=this.props.purposes||[],_=`service-item-${o}`,h=`${_}-title`,m=f.map((e=>u(["!","purposes",e,"title?"])||nt(e))).join(", "),v=d?Qe.createElement("span",{className:"cm-opt-out",title:u(["service","optOut","description"])},u(["service","optOut","title"])):"",g=p?Qe.createElement("span",{className:"cm-required",title:u(["service","required","description"])},u(["service","required","title"])):"";let y;f.length>0&&(y=Qe.createElement("p",{className:"purposes"},u(["service",f.length>1?"purposes":"purpose"]),": ",m));const b=c||st(s,i,"zz",["!","description"])||u(["!",o,"description?"]);return Qe.createElement("div",null,Qe.createElement("input",{id:_,className:"cm-list-input"+(p?" required":"")+(t?" half-checked only-required":""),"aria-labelledby":`${h}`,"aria-describedby":`${_}-description`,disabled:p,checked:e||p,tabIndex:l?"0":"-1",type:"checkbox",onChange:e=>{n(e.target.checked)}}),Qe.createElement("label",ct({htmlFor:_,className:"cm-list-label"},p?{tabIndex:"0"}:{}),Qe.createElement("span",{className:"cm-list-title",id:`${h}`},a||st(s,i,"zz",["!","title"])||u(["!",o,"title?"])||nt(o)),g,v,Qe.createElement("span",{className:"cm-switch"},Qe.createElement("div",{className:"slider round active"}))),Qe.createElement("div",{id:`${_}-description`},b&&Qe.createElement("p",{className:"cm-list-description"},Qe.createElement(at,{config:r,text:b})),y))}}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ut.apply(this,arguments)}const pt=e=>{let{services:t,config:n,consents:o,lang:i,toggle:r,visible:s,t:a}=e;return t.map((e=>{const t=o[e.name];return Qe.createElement("li",{key:e.name,className:"cm-service"},Qe.createElement(lt,ut({checked:t||e.required,onToggle:t=>{r([e],t)},config:n,lang:i,visible:s,t:a},e)))}))};class dt extends Qe.Component{constructor(e){super(e),e.manager.watch(this),this.state={consents:e.manager.consents}}componentWillUnmount(){this.props.manager.unwatch(this)}update(e,t,n){e===this.props.manager&&"consents"===t&&this.setState({consents:n})}render(){const{config:e,t,manager:n,lang:o}=this.props,{consents:i}=this.state,{services:r}=e,s=(e,t)=>{e.map((e=>{e.required||n.updateConsent(e.name,t)}))},a=Qe.createElement(pt,{config:e,lang:o,services:r,t,consents:i,toggle:s}),c=r.filter((e=>!e.required)),l=c.filter((e=>i[e.name])).length,u=r.filter((e=>e.required)).length,p=l===c.length;return r.filter((e=>e.required)).length,Qe.createElement("ul",{className:"cm-services"},a,!e.hideToggleAll&&c.length>1&&Qe.createElement("li",{className:"cm-service cm-toggle-all"},Qe.createElement(lt,{name:"disableAll",title:t(["service","disableAll","title"]),description:t(["service","disableAll","description"]),checked:p,config:e,onlyRequiredEnabled:!p&&u>0,onToggle:e=>{s(r,e)},lang:o,t})))}}function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ft.apply(this,arguments)}class _t extends Qe.Component{constructor(e){super(e),this.state={servicesVisible:!1}}render(){const{allEnabled:e,onlyRequiredEnabled:t,allDisabled:n,services:o,config:i,onToggle:r,name:s,lang:a,manager:c,consents:l,title:u,description:p,t:d}=this.props,{servicesVisible:f}=this.state,_=this.props.required||!1,h=this.props.purposes||[],m=`purpose-item-${s}`,v=`${m}-title`,g=h.map((e=>d(["!","purposes",e,"title?"])||nt(e))).join(", "),y=_?Qe.createElement("span",{className:"cm-required",title:d(["!","service","required","description"])||""},d(["service","required","title"])):"";let b;h.length>0&&(b=Qe.createElement("p",{className:"purposes"},d(["purpose",h.length>1?"purposes":"purpose"]),": ",g));const k=e=>{e.preventDefault();const t="false"!==e.currentTarget.getAttribute("aria-expanded");e.currentTarget.setAttribute("aria-expanded",!t),this.setState({servicesVisible:!f})},E=Qe.createElement(pt,{config:i,lang:a,services:o,toggle:(e,t)=>{e.map((e=>{e.required||c.updateConsent(e.name,t)}))},consents:l,visible:f,t:d}),w=p||d(["!","purposes",s,"description"]);return Qe.createElement(Qe.Fragment,null,Qe.createElement("input",{id:m,className:"cm-list-input"+(_?" required":"")+(e?"":t?" only-required":" half-checked"),"aria-labelledby":`${v}`,"aria-describedby":`${m}-description`,disabled:_,checked:e||!n&&!t,type:"checkbox",onChange:e=>{r(e.target.checked)}}),Qe.createElement("label",ft({htmlFor:m,className:"cm-list-label"},_?{tabIndex:"0"}:{}),Qe.createElement("span",{className:"cm-list-title",id:`${v}`},u||d(["!","purposes",s,"title?"])||nt(s)),y,Qe.createElement("span",{className:"cm-switch"},Qe.createElement("div",{className:"slider round active"}))),Qe.createElement("div",{id:`${m}-description`},w&&Qe.createElement("p",{className:"cm-list-description"},Qe.createElement(at,{config:i,text:w})),b),o.length>0&&Qe.createElement("div",{className:"cm-services"},Qe.createElement("div",{className:"cm-caret"},Qe.createElement("a",{href:"#","aria-haspopup":"true","aria-expanded":"false",tabIndex:"0",onClick:k,onKeyDown:e=>{32===e.keyCode&&k(e)}},f&&Qe.createElement("span",null,"↑")||Qe.createElement("span",null,"↓")," ",o.length," ",d(["purposeItem",o.length>1?"services":"service"]))),Qe.createElement("ul",{className:"cm-content"+(f?" expanded":"")},E)))}}class ht extends Qe.Component{constructor(e){super(e),e.manager.watch(this),this.state={consents:e.manager.consents}}componentWillUnmount(){this.props.manager.unwatch(this)}update(e,t,n){e===this.props.manager&&"consents"===t&&this.setState({consents:n})}render(){const{config:e,t,manager:n,lang:o}=this.props,{consents:i}=this.state,{services:r}=e,s={};for(const e of r)for(const t of e.purposes)void 0===s[t]&&(s[t]=[]),s[t].push(e);const a=(e,t)=>{e.map((e=>{const o=s[e];for(const e of o)e.required||n.updateConsent(e.name,t)}))},c=e=>{const t={allEnabled:!0,onlyRequiredEnabled:!0,allDisabled:!0,allRequired:!0};for(const n of e)n.required||(t.allRequired=!1),i[n.name]?(n.required||(t.onlyRequiredEnabled=!1),t.allDisabled=!1):n.required||(t.allEnabled=!1);return t.allDisabled&&(t.onlyRequiredEnabled=!1),t},l=e.purposeOrder||[],u=Object.keys(s).sort(((e,t)=>l.indexOf(e)-l.indexOf(t))).map((r=>{const l=c(s[r]);return Qe.createElement("li",{key:r,className:"cm-purpose"},Qe.createElement(_t,{allEnabled:l.allEnabled,allDisabled:l.allDisabled,onlyRequiredEnabled:l.onlyRequiredEnabled,required:l.allRequired,consents:i,name:r,config:e,lang:o,manager:n,onToggle:e=>{a([r],e)},services:s[r],t}))})),p=Object.keys(s).filter((e=>{for(const t of s[e])if(!t.required)return!0;return!1})),d=c(r);return Qe.createElement("ul",{className:"cm-purposes"},u,p.length>1&&Qe.createElement("li",{className:"cm-purpose cm-toggle-all"},Qe.createElement(_t,{name:"disableAll",title:t(["service","disableAll","title"]),description:t(["service","disableAll","description"]),allDisabled:d.allDisabled,allEnabled:d.allEnabled,onlyRequiredEnabled:d.onlyRequiredEnabled,onToggle:e=>{a(Object.keys(s),e)},manager:n,consents:i,config:e,lang:o,services:[],t})))}}class mt extends Qe.Component{componentDidMount(){this.consentModalRef&&this.consentModalRef.focus()}render(){const{hide:e,confirming:t,saveAndHide:n,acceptAndHide:o,declineAndHide:i,config:r,manager:s,lang:a,t:c}=this.props,{embedded:l}=r,u=void 0===r.groupByPurpose||r.groupByPurpose;let p,d,f;r.mustConsent||(p=Qe.createElement("button",{title:c(["close"]),"aria-label":c(["close"]),className:"hide",type:"button",onClick:e,tabIndex:"0",ref:e=>{this.consentModalRef=e}},Qe.createElement(tt,{t:c}))),r.hideDeclineAll||s.confirmed||(d=Qe.createElement("button",{disabled:t,className:"cm-btn cm-btn-decline cm-btn-danger cn-decline",type:"button",onClick:i},c(["decline"])));const _=Qe.createElement("button",{disabled:t,className:"cm-btn cm-btn-success cm-btn-info cm-btn-accept",type:"button",onClick:n},c([s.confirmed?"save":"acceptSelected"]));let h,m,v;r.acceptAll&&!s.confirmed&&(f=Qe.createElement("button",{disabled:t,className:"cm-btn cm-btn-success cm-btn-accept-all",type:"button",onClick:o},c(["acceptAll"]))),void 0!==r.privacyPolicy?"string"==typeof r.privacyPolicy?h=r.privacyPolicy:"object"==typeof r.privacyPolicy&&(h=r.privacyPolicy[a]||r.privacyPolicy.default):(h=c(["!","privacyPolicyUrl"],{lang:a}),void 0!==h&&(h=h.join(""))),void 0!==h&&(m=Qe.createElement("a",{key:"ppLink",href:h,target:"_blank",rel:"noopener"},c(["privacyPolicy","name"]))),v=u?Qe.createElement(ht,{t:c,config:r,manager:s,lang:a}):Qe.createElement(dt,{t:c,config:r,manager:s,lang:a});const g=Qe.createElement("div",{className:"cm-modal cm-klaro"},Qe.createElement("div",{className:"cm-header"},p,Qe.createElement("h1",{className:"title"},Qe.createElement(at,{config:r,text:c(["consentModal","title"])})),Qe.createElement("p",null,Qe.createElement(at,{config:r,text:[c(["consentModal","description"])].concat(m&&[" "].concat(c(["privacyPolicy","text"],{privacyPolicy:m}))||[])}))),Qe.createElement("div",{className:"cm-body"},v),Qe.createElement("div",{className:"cm-footer"},Qe.createElement("div",{className:"cm-footer-buttons"},d,_,f),!r.disablePoweredBy&&Qe.createElement("p",{className:"cm-powered-by"},Qe.createElement("a",{target:"_blank",href:r.poweredBy||"https://kiprotect.com/klaro",rel:"noopener"},c(["poweredBy"])))));return l?Qe.createElement("div",{id:"cookieScreen",className:"cookie-modal cm-embedded"},g):Qe.createElement("div",{id:"cookieScreen",className:"cookie-modal"},Qe.createElement("div",{className:"cm-bg",onClick:e}),g)}}function vt(e,t,n){void 0===n&&(n=!0);const o=Object.keys(t);for(let i=0;i<o.length;i++){const r=o[i],s=t[r],a=e[r];"string"==typeof s?(n||void 0===a)&&(e[r]=s):"object"==typeof s&&("object"==typeof a?vt(a,s,n):(n||void 0===a)&&(e[r]=s))}return e}function gt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class yt extends Qe.Component{constructor(e){super(e),gt(this,"executeButtonClicked",((e,t,n)=>{const{modal:o}=this.state;let i=0;e&&(i=this.props.manager.changeAll(t));const r=this.props.manager.confirmed;if(this.props.manager.saveAndApplyConsents(n),e&&!r&&(o||this.props.config.mustConsent)){const e=()=>{this.setState({confirming:!1}),this.props.hide()};this.setState({confirming:!0}),0===i?e():setTimeout(e,800)}else this.props.hide()})),gt(this,"saveAndHide",(()=>{this.executeButtonClicked(!1,!1,"save")})),gt(this,"acceptAndHide",(()=>{this.executeButtonClicked(!0,!0,"accept")})),gt(this,"declineAndHide",(()=>{this.executeButtonClicked(!0,!1,"decline")})),this.state={modal:e.modal,confirming:!1}}componentDidUpdate(e){e.modal!==this.props.modal&&this.setState({modal:this.props.modal}),this.noticeRef&&this.noticeRef.focus()}render(){const{lang:e,config:t,show:n,manager:o,testing:i,t:r}=this.props,{confirming:s,modal:a}=this.state,{embedded:c,noticeAsModal:l,hideLearnMore:u}=t,p=t.purposeOrder||[],d=function(e){const t=new Set([]);for(let n=0;n<e.services.length;n++){const o=e.services[n].purposes||[];for(let e=0;e<o.length;e++)t.add(o[e])}return Array.from(t)}(t).filter((e=>"functional"!==e)).sort(((e,t)=>p.indexOf(e)-p.indexOf(t))),f=d.map((e=>r(["!","purposes",e,"title?"])||nt(e)));let _,h="";h=1===f.length?f[0]:[...f.slice(0,-2),f.slice(-2).join(" & ")].join(", "),void 0!==t.privacyPolicy?"string"==typeof t.privacyPolicy?_=t.privacyPolicy:"object"==typeof t.privacyPolicy&&(_=t.privacyPolicy[e]||t.privacyPolicy.default):(_=r(["!","privacyPolicyUrl"],{lang:e}),void 0!==_&&(_=_.join("")));const m=e=>{e.preventDefault(),this.setState({modal:!0})};let v;if(o.changed&&(v=Qe.createElement("p",{className:"cn-changes"},r(["consentNotice","changeDescription"]))),!n&&!i&&!s)return Qe.createElement("div",null);const g=(!t.mustConsent||l)&&!o.confirmed&&!t.noNotice,y=t.hideDeclineAll?"":Qe.createElement("button",{className:"cm-btn cm-btn-danger cn-decline",type:"button",onClick:this.declineAndHide},r(["decline"])),b=t.acceptAll?Qe.createElement("button",{className:"cm-btn cm-btn-success",type:"button",onClick:this.acceptAndHide},r(["ok"])):Qe.createElement("button",{className:"cm-btn cm-btn-success",type:"button",onClick:this.saveAndHide},r(["ok"])),k=()=>l?Qe.createElement("button",{key:"learnMoreLink",className:"cm-btn cm-btn-lern-more cm-btn-info",type:"button",onClick:m},r(["consentNotice","learnMore"])):Qe.createElement("a",{key:"learnMoreLink",className:"cm-link cn-learn-more",href:"#",onClick:m},r(["consentNotice","learnMore"]));let E;if(void 0!==_&&(E=Qe.createElement("a",{key:"ppLink",href:_},r(["privacyPolicy","name"]))),a||o.confirmed&&!i||!o.confirmed&&t.mustConsent)return Qe.createElement(mt,{t:r,lang:e,config:t,hide:()=>{t.mustConsent&&!t.acceptAll||(o.confirmed&&!i?this.props.hide():this.setState({modal:!1}),setTimeout((()=>{this.noticeRef&&this.noticeRef.focus()}),1))},confirming:s,declineAndHide:this.declineAndHide,saveAndHide:this.saveAndHide,acceptAndHide:this.acceptAndHide,manager:o});const w=Qe.createElement("div",{role:"dialog","aria-describedby":"id-cookie-notice","aria-labelledby":"id-cookie-title",id:"klaro-cookie-notice",tabIndex:"0",autofocus:t.autoFocus,ref:e=>{this.noticeRef=e},className:`cookie-notice ${g||i?"":"cookie-notice-hidden"} ${l?"cookie-modal-notice":""} ${c?"cn-embedded":""}`},Qe.createElement("div",{className:"cn-body"},r(["!","consentNotice","title"])&&t.showNoticeTitle&&Qe.createElement("h2",{id:"id-cookie-title"},r(["consentNotice","title"])),Qe.createElement("p",{id:"id-cookie-notice"},Qe.createElement(at,{config:t,text:r(["consentNotice","description"],{purposes:Qe.createElement("strong",{key:"strong"},h),privacyPolicy:E,learnMoreLink:k()})})),i&&Qe.createElement("p",null,r(["consentNotice","testing"])),v,Qe.createElement("div",{className:"cn-ok"},!u&&k(),Qe.createElement("div",{className:"cn-buttons"},y,b))));return l?Qe.createElement("div",{id:"cookieScreen",className:"cookie-modal"},Qe.createElement("div",{className:"cm-bg"}),w):w}}class bt extends Qe.Component{constructor(e){super(e),e.manager.watch(this),this.state={show:e.show>0||!e.manager.confirmed}}componentWillUnmount(){this.props.manager.unwatch(this)}update(e,t){e===this.props.manager&&"applyConsents"===t&&(!this.props.config.embedded&&this.props.manager.confirmed?this.setState({show:!1}):this.forceUpdate())}notifyApi(){const{api:e,modal:t,show:n,config:o}=this.props;if(void 0!==e){if(t||n>0)return;this.props.manager.confirmed||this.props.manager.auxiliaryStore.getWithKey("shown-before")||(e.update(this,"showNotice",{config:o}),this.props.manager.auxiliaryStore.setWithKey("shown-before",!0))}}componentDidMount(){this.notifyApi()}componentDidUpdate(e){if(e.show===this.props.show)return;this.notifyApi();const t=this.props.show>0||!this.props.manager.confirmed;t!==this.state.show&&this.setState({show:t})}render(){const{config:e,t,lang:n,testing:o,manager:i,modal:r}=this.props,{show:s}=this.state,{additionalClass:a,embedded:c,stylePrefix:l}=e;return Qe.createElement("div",{lang:n,className:(l||"klaro")+(void 0!==a?" "+a:"")},Qe.createElement(yt,{key:"app-"+this.props.show,t,testing:o,show:s,lang:n,modal:r,hide:()=>{c||this.setState({show:!1})},config:e,manager:i}))}}const kt=e=>{let{manager:t,style:n,config:o,t:i,lang:r,service:s}=e;const[a,c]=ie(0),{additionalClass:l,embedded:u,stylePrefix:p}=o;se((()=>{const e={update:()=>c(a+1)};return t.watch(e),()=>{t.unwatch(e)}}));const d=st(s.translations||{},r,"zz",["!","title"])||i(["!",s.name,"title?"])||nt(s.name);return Qe.createElement("div",{lang:r,className:(p||"klaro")+(void 0!==l?" "+l:"")+" cm-as-context-notice"},Qe.createElement("div",{className:"context-notice"+(void 0!==n?` cm-${n}`:"")},Qe.createElement("p",null,i(["contextualConsent","description"],{title:d})),Qe.createElement("p",{className:"cm-buttons"},Qe.createElement("button",{className:"cm-btn cm-btn-success",type:"button",onClick:()=>{t.updateConsent(s.name,!0),t.applyConsents(!1,!0,s.name),t.updateConsent(s.name,!1)}},i(["contextualConsent","acceptOnce"])),null!==t.store.get()?Qe.createElement("button",{className:"cm-btn cm-btn-success-var",type:"button",onClick:()=>{t.updateConsent(s.name,!0),t.confirmed?(t.saveConsents("contextual-accept"),t.applyConsents(!1,!0,s.name)):t.applyConsents(!1,!0,s.name)}},i(["contextualConsent","acceptAlways"])):""),null===t.store.get()&&o.showDescriptionEmptyStore?Qe.createElement(Qe.Fragment,null,Qe.createElement("p",{className:"ccn-description-empty-store"},i(["contextualConsent","descriptionEmptyStore"],{title:d,link:Qe.createElement("a",{key:"modalLink",className:"ccn-modal-link",href:"#",onClick:e=>{e.preventDefault(),nn(o,!0)}},i(["contextualConsent","modalLinkText"]))}))):""))};function Et(){const e=document.cookie.split(";"),t=[],n=new RegExp("^\\s*([^=]+)\\s*=\\s*(.*?)$");for(let o=0;o<e.length;o++){const i=e[o],r=n.exec(i);null!==r&&t.push({name:r[1],value:r[2]})}return t}function wt(e,t,n){let o=e+"=; Max-Age=-99999999;";document.cookie=o,o+=" path="+(t||"/")+";",document.cookie=o,void 0!==n&&(o+=" domain="+n+";",document.cookie=o)}function Ct(e){const t={};for(let n=0;n<e.attributes.length;n++){const o=e.attributes[n];o.name.startsWith("data-")&&(t[o.name.slice(5)]=o.value)}return t}function xt(e,t){const n=Object.keys(e);for(let o=0;o<n.length;o++){const i=n[o],r=e[i];t[i]!==r&&t.setAttribute("data-"+i,r)}}class Ot{constructor(e,t){this.key=e.storageName,this.handle=t}get(){return this.handle.getItem(this.key)}getWithKey(e){return this.handle.getItem(e)}set(e){return this.handle.setItem(this.key,e)}setWithKey(e,t){return this.handle.setItem(e,t)}delete(){return this.handle.removeItem(this.key)}deleteWithKey(e){return this.handle.removeItem(e)}}class Nt extends Ot{constructor(e){super(e,sessionStorage)}}const St={cookie:class{constructor(e){this.cookieName=e.storageName,this.cookieDomain=e.cookieDomain,this.cookiePath=e.cookiePath,this.cookieExpiresAfterDays=e.cookieExpiresAfterDays}get(){const e=function(e){const t=Et();for(let n=0;n<t.length;n++)if(t[n].name===e)return t[n];return null}(this.cookieName);return e?e.value:null}set(e){return function(e,t,n,o,i){let r="";if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),r="; expires="+e.toUTCString()}void 0!==o&&(r+="; domain="+o),r+=void 0!==i?"; path="+i:"; path=/",document.cookie=e+"="+(t||"")+r+"; SameSite=Lax"}(this.cookieName,e,this.cookieExpiresAfterDays,this.cookieDomain,this.cookiePath)}delete(){return wt(this.cookieName)}},test:class{constructor(){this.value=null}get(){return this.value}set(e){this.value=e}delete(){this.value=null}},localStorage:class extends Ot{constructor(e){super(e,localStorage)}},sessionStorage:Nt},Pt=St;function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){var o,i,r;o=e,i=t,r=n[t],i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i),i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Dt{constructor(e,t,n){this.config=e,this.store=void 0!==t?t:new Pt[this.storageMethod](this),void 0===this.store&&(this.store=Pt.cookie),this.auxiliaryStore=void 0!==n?n:new Nt(this),this.consents=this.defaultConsents,this.confirmed=!1,this.changed=!1,this.states={},this.initialized={},this.executedOnce={},this.watchers=new Set([]),this.loadConsents(),this.applyConsents(),this.savedConsents=At({},this.consents)}get storageMethod(){return this.config.storageMethod||"cookie"}get storageName(){return this.config.storageName||this.config.cookieName||"klaro"}get cookieDomain(){return this.config.cookieDomain||void 0}get cookiePath(){return this.config.cookiePath||void 0}get cookieExpiresAfterDays(){return this.config.cookieExpiresAfterDays||120}get defaultConsents(){const e={};for(let t=0;t<this.config.services.length;t++){const n=this.config.services[t];e[n.name]=this.getDefaultConsent(n)}return e}watch(e){this.watchers.has(e)||this.watchers.add(e)}unwatch(e){this.watchers.has(e)&&this.watchers.delete(e)}notify(e,t){this.watchers.forEach((n=>{n.update(this,e,t)}))}getService(e){const t=this.config.services.filter((t=>t.name===e));if(t.length>0)return t[0]}getDefaultConsent(e){let t=e.default||e.required;return void 0===t&&(t=this.config.default),void 0===t&&(t=!1),t}changeAll(e){let t=0;return this.config.services.filter((e=>!e.contextualConsentOnly)).map((n=>{n.required||this.config.required||e?this.updateConsent(n.name,!0)&&t++:this.updateConsent(n.name,!1)&&t++})),t}updateConsent(e,t){const n=(this.consents[e]||!1)!==t;return this.consents[e]=t,this.notify("consents",this.consents),n}resetConsents(){this.consents=this.defaultConsents,this.states={},this.confirmed=!1,this.applyConsents(),this.savedConsents=At({},this.consents),this.store.delete(),this.notify("consents",this.consents)}getConsent(e){return this.consents[e]||!1}loadConsents(){const e=this.store.get();return null!==e&&(this.consents=JSON.parse(decodeURIComponent(e)),this._checkConsents(),this.notify("consents",this.consents)),this.consents}saveAndApplyConsents(e){this.saveConsents(e),this.applyConsents()}changedConsents(){const e={};for(const[t,n]of Object.entries(this.consents))this.savedConsents[t]!==n&&(e[t]=n);return e}saveConsents(e){const t=encodeURIComponent(JSON.stringify(this.consents));this.store.set(t),this.confirmed=!0,this.changed=!1;const n=this.changedConsents();this.savedConsents=At({},this.consents),this.notify("saveConsents",{changes:n,consents:this.consents,type:e||"script"})}applyConsents(e,t,n){function o(e,t){if(void 0===e)return;let n;return n="function"==typeof e?e:new Function("opts",e),n(t)}let i=0;for(let e=0;e<this.config.services.length;e++){const t=this.config.services[e];if(void 0!==n&&n!==t.name)continue;const i=t.vars||{},r={service:t,config:this.config,vars:i};this.initialized[t.name]||(this.initialized[t.name]=!0,o(t.onInit,r))}for(let r=0;r<this.config.services.length;r++){const s=this.config.services[r];if(void 0!==n&&n!==s.name)continue;const a=this.states[s.name],c=s.vars||{},l=void 0!==s.optOut?s.optOut:this.config.optOut||!1,u=void 0!==s.required?s.required:this.config.required||!1,p=this.confirmed||l||e||t,d=this.getConsent(s.name)&&p||u,f={service:s,config:this.config,vars:c,consents:this.consents,confirmed:this.confirmed};a!==d&&i++,e||(o(d?s.onAccept:s.onDecline,f),this.updateServiceElements(s,d),this.updateServiceStorage(s,d),void 0!==s.callback&&s.callback(d,s),void 0!==this.config.callback&&this.config.callback(d,s),this.states[s.name]=d)}return this.notify("applyConsents",i,n),i}updateServiceElements(e,t){if(t){if(e.onlyOnce&&this.executedOnce[e.name])return;this.executedOnce[e.name]=!0}const n=document.querySelectorAll("[data-name='"+e.name+"']");for(let o=0;o<n.length;o++){const i=n[o],r=i.parentElement,s=Ct(i),{type:a,src:c,href:l}=s,u=["href","src","type"];if("placeholder"!==a)if("IFRAME"===i.tagName){if(t&&i.src===c){console.debug(`Skipping ${i.tagName} for service ${e.name}, as it already has the correct type...`);continue}const n=document.createElement(i.tagName);for(const e of i.attributes)n.setAttribute(e.name,e.value);n.innerText=i.innerText,n.text=i.text,t?(void 0!==s["original-display"]&&(n.style.display=s["original-display"]),void 0!==s.src&&(n.src=s.src)):(n.src="",void 0!==s["modified-by-klaro"]&&void 0!==s["original-display"]?n.setAttribute("data-original-display",s["original-display"]):(void 0!==i.style.display&&n.setAttribute("data-original-display",i.style.display),n.setAttribute("data-modified-by-klaro","yes")),n.style.display="none"),r.insertBefore(n,i),r.removeChild(i)}else if("SCRIPT"===i.tagName||"LINK"===i.tagName){if(t&&i.type===(a||"")&&i.src===c){console.debug(`Skipping ${i.tagName} for service ${e.name}, as it already has the correct type or src...`);continue}const n=document.createElement(i.tagName);for(const e of i.attributes)n.setAttribute(e.name,e.value);n.innerText=i.innerText,n.text=i.text,t?(n.type=a||"",void 0!==c&&(n.src=c),void 0!==l&&(n.href=l)):n.type="text/plain",r.insertBefore(n,i),r.removeChild(i)}else{if(t){for(const e of u){const t=s[e];void 0!==t&&(void 0===s["original-"+e]&&(s["original-"+e]=i[e]),i[e]=t)}void 0!==s.title&&(i.title=s.title),void 0!==s["original-display"]?i.style.display=s["original-display"]:i.style.removeProperty("display")}else{void 0!==s.title&&i.removeAttribute("title"),void 0===s["original-display"]&&void 0!==i.style.display&&(s["original-display"]=i.style.display),i.style.display="none";for(const e of u)void 0!==s[e]&&(void 0!==s["original-"+e]?i[e]=s["original-"+e]:i.removeAttribute(e))}xt(s,i)}else t?(i.style.display="none",s["original-display"]=i.style.display):i.style.display=s["original-display"]||"block"}}updateServiceStorage(e,t){if(!t&&void 0!==e.cookies&&e.cookies.length>0){const t=Et();for(let n=0;n<e.cookies.length;n++){let o,i,r=e.cookies[n];if(r instanceof Array)[r,o,i]=r;else if(r instanceof Object&&!(r instanceof RegExp)){const e=r;r=e.pattern,o=e.path,i=e.domain}if(void 0!==r){r instanceof RegExp||(r=r.startsWith("^")?new RegExp(r):new RegExp("^"+r.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")+"$"));for(let e=0;e<t.length;e++){const n=t[e];null!==r.exec(n.name)&&(console.debug("Deleting cookie:",n.name,"Matched pattern:",r,"Path:",o,"Domain:",i),wt(n.name,o,i),void 0===i&&wt(n.name,o,"."+window.location.hostname))}}}}}_checkConsents(){let e=!0;const t=new Set(this.config.services.map((e=>e.name))),n=new Set(Object.keys(this.consents));for(const e of Object.keys(this.consents))t.has(e)||delete this.consents[e];for(const t of this.config.services)n.has(t.name)||(this.consents[t.name]=this.getDefaultConsent(t),e=!1);this.confirmed=e,e||(this.changed=!0)}}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){var o,i,r;o=e,i=t,r=n[t],i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i),i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Mt{constructor(e,t,n){this.url=e,this.id=t,this.opts=Object.assign({},n)}getLocationData(e){const t=e.records||{};return{pathname:void 0===t.savePathname||t.savePathname?location.pathname:void 0,port:""!==location.port?parseInt(location.port):0,hostname:location.hostname,protocol:location.protocol.slice(0,location.protocol.length-1)}}getUserData(){return{client_version:an(),client_name:"klaro:web"}}getBaseConsentData(e){return{location_data:this.getLocationData(e),user_data:this.getUserData(e)}}update(e,t,n){if("saveConsents"===t){if("save"===n.type&&0===Object.keys(n.changes).length)return;const t=Rt(Rt({},this.getBaseConsentData(e.config)),{},{consent_data:{consents:n.consents,changes:"save"===n.type?n.changes:void 0,type:n.type,config:e.config.id}});this.submitConsentData(t)}else if("showNotice"===t){const e=Rt(Rt({},this.getBaseConsentData(n.config)),{},{consent_data:{consents:{},changes:{},type:"show",config:n.config.id}});this.submitConsentData(e)}}apiRequest(e,t,n,o){return new Promise(((i,r)=>{const s=new XMLHttpRequest;let a;var c;s.addEventListener("load",(()=>{const e=JSON.parse(s.response);s.status<200||s.status>=300?(e.status=s.status,r(e)):i(e,s.status)})),s.addEventListener("error",(()=>{r({status:0,xhr:s})})),void 0!==n&&("GET"===e?t+="?"+(c=n,"?"+Object.keys(c).map((function(e){return e+"="+encodeURIComponent(c[e])})).join("&")):a=JSON.stringify(n)),s.open(e,this.url+t),void 0!==a&&s.setRequestHeader("Content-Type",o||"application/json;charset=UTF-8"),s.send(a)}))}submitConsentData(e){return this.apiRequest("POST","/v1/privacy-managers/"+this.id+"/submit",e,"text/plain;charset=UTF-8")}loadConfig(e){return this.apiRequest("GET","/v1/privacy-managers/"+this.id+"/config.json?name="+e+(this.opts.testing?"&testing=true":""))}loadConfigs(){return this.apiRequest("GET","/v1/privacy-managers/"+this.id+"/configs.json"+(this.opts.testing?"&testing=true":""))}}function qt(e){const t=new Map([]);for(const n of Object.keys(e)){const o=e[n];"string"==typeof n&&("string"==typeof o||null===o?t.set(n,o):t.set(n,qt(o)))}return t}function Ut(e,t,n,o){const i=(e,t,n)=>{if(n instanceof Map){const o=new Map([]);Ut(o,n,!0,!1),e.set(t,o)}else e.set(t,n)};if(!(t instanceof Map&&e instanceof Map))throw new Error("Parameters are not maps!");void 0===n&&(n=!0),void 0===o&&(o=!1),o&&(e=new e.constructor(e));for(const r of t.keys()){const s=t.get(r),a=e.get(r);if(e.has(r))if(s instanceof Map&&a instanceof Map)e.set(r,Ut(a,s,n,o));else{if(!n)continue;i(e,r,s)}else i(e,r,s)}return e}const Ht={top:{_meta:{incompatibleWith:["bottom"]},"notice-top":"20px","notice-bottom":"auto"},bottom:{_meta:{incompatibleWith:["top"]},"notice-bottom":"20px","notice-top":"auto"},left:{_meta:{incompatibleWith:["wide"]},"notice-left":"20px","notice-right":"auto"},right:{_meta:{incompatibleWith:["wide"]},"notice-right":"20px","notice-left":"auto"},wide:{"notice-left":"20px","notice-right":"auto","notice-max-width":"calc(100vw - 60px)","notice-position":"fixed"},light:{"button-text-color":"#fff",dark1:"#fafafa",dark2:"#777",dark3:"#555",light1:"#444",light2:"#666",light3:"#111",green3:"#f00"}};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){var o,i,r;o=e,i=t,r=n[t],i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i),i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Lt;const Wt=new Map([]),Ft={},Bt={};function Vt(e,t){return(e.elementID||"klaro")+(t?"-ide":"")}function zt(e,t){const n=Vt(e,t);let o=document.getElementById(n);return null===o&&(o=document.createElement("div"),o.id=n,document.body.appendChild(o)),o}function Kt(e,t){if(void 0===Ft[e]?Ft[e]=[t]:Ft[e].push(t),void 0!==Bt[e])for(const n of Bt[e])if(!1===t(...n))break}function Gt(e){const t=Ft[e];for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(void 0===Bt[e]?Bt[e]=[o]:Bt[e].push(o),void 0!==t)for(const e of t)if(!0===e(...o))return!0}function Jt(e){const t=new Map([]);return Ut(t,Wt),Ut(t,qt(e.translations||{})),t}let Yt=1;function Zt(e,t){if(void 0===e)return;t=t||{},Gt("render",e=en(e),t);let n=0;t.show&&(n=Yt++);const o=zt(e),i=sn(e);void 0!==t.api&&i.watch(t.api),function(e,t,n){if(void 0===e.styling)return;let o=Object.assign({},e.styling);if(void 0!==o.theme){let n=o.theme;n instanceof Array||(n=[n]),o={};for(const e of n){const n=t[e];if(void 0!==n)for(const[e,t]of Object.entries(n))e.startsWith("_")||(o[e]=t)}for(const[t,n]of Object.entries(e.styling))"theme"!==t&&(o[t]=n)}void 0===n&&(n=document.documentElement);for(const[e,t]of Object.entries(o))n.style.setProperty("--"+e,t);window.document.documentMode&&n===document.documentElement&&function(e){const t=document.querySelectorAll("style[data-context=klaro-styles]");for(const n of t){let t=n.innerText;void 0!==n.styleSheet&&(t=n.styleSheet.cssText);for(const[n,o]of Object.entries(e)){const e=new RegExp("([a-z0-9-]+):[^;]+;[\\s\\n]*\\1:\\s*var\\(--"+n+",\\s*[^\\)]+\\)","g");t=t.replace(e,((e,t)=>`${t}: ${o}; ${t}: var(--${n}, ${o})`))}const o=document.createElement("style");o.setAttribute("type","text/css"),o.setAttribute("data-context","klaro-styles"),void 0!==o.styleSheet?o.styleSheet.cssText=t:o.innerText=t,n.parentElement.appendChild(o),n.parentElement.removeChild(n)}}(o)}(e,Ht,o);const r=it(e),s=Jt(e),a=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return st(s,r,e.fallbackLang||"zz",...n)},c=Ie(Qe.createElement(bt,{t:a,lang:r,manager:i,config:e,testing:t.testing,modal:t.modal,api:t.api,show:n}),o);return Xt(i,a,r,e,t),c}function Xt(e,t,n,o,i){const r=[];for(const s of o.services){const a=e.getConsent(s.name)&&e.confirmed,c=document.querySelectorAll("[data-name='"+s.name+"']");for(const l of c){const c=Ct(l);if("placeholder"!==c.type&&("IFRAME"===l.tagName||"DIV"===l.tagName)){let u=l.previousElementSibling;if(null!==u){const e=Ct(u);"placeholder"===e.type&&e.name===s.name||(u=null)}if(null===u){u=document.createElement("DIV"),u.style.maxWidth=l.width+"px",u.style.height=l.height+"px",xt({type:"placeholder",name:s.name},u),a&&(u.style.display="none"),l.parentElement.insertBefore(u,l);const p=Ie(Qe.createElement(kt,{t,lang:n,manager:e,config:o,service:s,style:c.style,testing:i.testing,api:i.api}),u);r.push(p)}"IFRAME"===l.tagName&&(c.src=l.src),void 0===c["modified-by-klaro"]&&void 0===l.style.display&&(c["original-display"]=l.style.display),c["modified-by-klaro"]="yes",xt(c,l),a||(l.src="",l.style.display="none")}}}return r}function Qt(e){/complete|interactive|loaded/.test(document.readyState)?e():window.addEventListener("DOMContentLoaded",e)}function en(e){const t=$t({},e);return 2===t.version||(void 0!==t.apps&&void 0===t.services&&(t.services=t.apps,console.warn("Warning, your configuration file is outdated. Please change `apps` to `services`"),delete t.apps),void 0!==t.translations&&void 0!==t.translations.apps&&void 0===t.services&&(t.translations.services=t.translations.apps,console.warn("Warning, your configuration file is outdated. Please change `apps` to `services` in the `translations` key"),delete t.translations.apps)),t}function tn(e){if(void 0===window)return;const t=function(e){if(null!==document.currentScript&&void 0!==document.currentScript)return document.currentScript;const t=document.getElementsByTagName("script");for(let e=0;e<t.length;e++){const n=t[e];if(n.src.includes("klaro"))return n}return null}(),n=new Map(decodeURI(location.hash.slice(1)).split("&").map((e=>e.split("="))).map((e=>1===e.length?[e[0],!0]:e))),o=n.get("klaro-testing"),i=e=>{const t=$t($t({},e),{},{testing:o});Lt.noAutoLoad||Lt.testing&&!t.testing||Zt(Lt,t)};if(void 0!==e)Lt=e,Qt((()=>i({})));else if(null!==t){const e=function(e){const t=e.getAttribute("data-klaro-id");if(null!==t)return t;const n=/.*\/privacy-managers\/([a-f0-9]+)\/klaro.*\.js/.exec(e.src);return null!==n?n[1]:null}(t),r=function(e){const t=e.getAttribute("data-klaro-api-url");if(null!==t)return t;const n=/(http(?:s)?:\/\/[^/]+)\/v1\/privacy-managers\/([a-f0-9]+)\/klaro.*\.js/.exec(e.src);return null!==n?n[1]:null}(t),s=function(e,t){if(e.has("klaro-config"))return e.get("klaro-config");const n=t.getAttribute("data-klaro-config");return null!==n?n:"default"}(n,t);if(null!==e){const t=new Mt(r,e,{testing:o});if(void 0!==window.klaroApiConfigs){if(!0===Gt("apiConfigsLoaded",window.klaroApiConfigs,t))return;const e=window.klaroApiConfigs.find((e=>e.name===s&&("active"===e.status||o)));void 0!==e?(Lt=e,Qt((()=>i({api:t})))):Gt("apiConfigsFailed",{})}else t.loadConfig(s).then((e=>{!0!==Gt("apiConfigsLoaded",[e],t)&&(Lt=e,Qt((()=>i({api:t}))))})).catch((e=>{console.error(e,"cannot load Klaro configs"),Gt("apiConfigsFailed",e)}))}else{const e=t.getAttribute("data-klaro-config")||"klaroConfig";Lt=window[e],void 0!==Lt&&Qt((()=>i({})))}}n.has("klaro-ide")&&function(e){const t=/^(.*)(\/[^/]+)$/.exec(e.src)[1]||"",n=document.createElement("script");n.src=""!==t?t+"/ide.js":"ide.js",n.type="application/javascript";for(const e of n.attributes)n.setAttribute(e.name,e.value);document.head.appendChild(n)}(t)}function nn(e,t,n){return Zt(e=e||Lt,{show:!0,modal:t,api:n}),!1}const on={};function rn(){for(const e in Object.keys(on))delete on[e]}function sn(e){const t=(e=e||Lt).storageName||e.cookieName||"default";return void 0===on[t]&&(on[t]=new Dt(en(e))),on[t]}function an(){return"v"==="unknown"[0]?"unknown".slice(1):"unknown"}tn()})(),o})()));